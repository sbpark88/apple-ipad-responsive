@use "sass:math";
@import "../mixins";

/* Feature */
.feature {
  display: flex;
}

/* Figures */
.figures {
  flex-grow: 1;
  position: relative;

  @include tablet {
    margin-bottom: -10%;
  }

  figure,
  figcaption,
  figcaption * {
    position: absolute;
    top: 0;
    left: 0;

    img {
      @include tablet {
        scale: 0.7;
        transform-origin: top left;
        //transform-origin: top center;
      }

      @include mobile {
        scale: 0.45;
        transform-origin: top left;
        //transform-origin: top center;
      }
    }

    figcaption.bg-text {
      @include tablet {
        scale: 0.8; // 0.7배를 하면 각각 translate 를 다시 안 해줘도 되는데 글씨가 너무 작다
      }
    }
  }

  @include mobile {
    //display: flex;
    //justify-content: center;

    figure {
      //position: relative;
      //width: 100%;
    }
  }
}

@include tablet {
  h1.bg-text,
  h2.bg-text {
    scale: 0.7;
    margin-bottom: -5%;
  }
}

/* Infos */
.infos {
  display: flex;
  flex-direction: column;
  z-index: 1;

  &.infos--large .info {
    max-width: 410px;
  }

  &.infos--center {
    justify-content: center;
  }

  &.infos--end {
    justify-content: flex-end;
  }

  .info {
    max-width: 330px;
    margin-bottom: 24px;
    opacity: 0;
    transition: 1s;
    transform: translateY(100px);

    &.show {
      opacity: 1;
      transform: translateY(0);
    }

    p {
      font-size: 21.5px;
      font-weight: 600;
      line-height: 1.5;
    }

    a.link {
      margin-top: 44px;
      font-size: 19.5px;
    }
  }
}

/* Icon */
.infos .info .icon {
  $icon-width: 100px;
  $icon-height: 100px;

  width: $icon-width;
  height: $icon-height;
  margin: 0 0 -15px -30px;
  animation: sprite-icon 3s infinite steps(1);

  &.icon--chip {
    background-image: url("../../assets/images/sprite_chip.png");
  }
  &.icon--faster {
    background-image: url("../../assets/images/sprite_faster.png");
  }
  &.icon--neural {
    background-image: url("../../assets/images/sprite_neural.png");
  }
  &.icon--apps {
    background-image: url("../../assets/images/sprite_apps.png");
  }
  &.icon--battery {
    background-image: url("../../assets/images/sprite_battery.png");
  }
  &.icon--display {
    background-image: url("../../assets/images/sprite_display.png");
  }
  &.icon--true-tone {
    background-image: url("../../assets/images/sprite_true_tone.png");
  }
  &.icon--center-stage {
    background-image: url("../../assets/images/sprite_center_stage.png");
  }
  &.icon--front-camera {
    background-image: url("../../assets/images/sprite_front_camera.png");
  }
  &.icon--back-camera {
    background-image: url("../../assets/images/sprite_back_camera.png");
  }
  &.icon--scan {
    background-image: url("../../assets/images/sprite_scan.png");
  }
  &.icon--download {
    background-image: url("../../assets/images/sprite_download.png");
  }
  &.icon--wifi {
    background-image: url("../../assets/images/sprite_wifi.png");
  }
  &.icon--lte {
    background-image: url("../../assets/images/sprite_lte.png");
  }
  &.icon--pencil {
    background-image: url("../../assets/images/sprite_pencil.png");
  }
  &.icon--keyboard {
    background-image: url("../../assets/images/sprite_keyboard.png");
  }
  &.icon--notes {
    background-image: url("../../assets/images/sprite_notes.png");
  }
  &.icon--covers {
    background-image: url("../../assets/images/sprite_covers.png");
  }

  @keyframes sprite-icon {
    $column: 6;
    $row: 10;
    $image-count: $column * $row;
    $step: math.div(100, ($image-count - 1));

    @for $i from 0 to $image-count {
      $percentage: math.div(math.round($step * $i * 100), 100);
      $x: ($i % $column) * -$icon-width;
      $y: math.floor(math.div($i, $column)) * -$icon-height;

      #{$percentage}% {
        background-position: #{$x} #{$y};
      }
    }
  }
}
